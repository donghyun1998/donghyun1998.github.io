---
title: usePathname useSearchParams 재렌더링
date: 2024-03-28
category: dev
tag: javascript
---

방금 이 블로그에다가 글 목록으로 갔을때 쿼리파라미터로 category 줘서 파란색 불 들어오게 하려고 하는데,

재렌더링 기준에 들지 않아서 고민하던 중

usePathname, useSearchParams 같은 훅은 spa 내부에서 동작하는 라우팅이 일어났을때 재렌더링이 된다고 한다. 이거 사용하는 훅에서 이벤트 잡나보다.

Next.js에서 `usePathname`와 같은 Next.js의 라우팅 관련 훅(hook)들은 클라이언트 측에서 라우팅이 발생할 때마다 해당 컴포넌트를 재렌더링합니다. 예를 들어, `usePathname`을 사용하는 컴포넌트는 경로가 변경될 때마다 현재 경로를 반영하여 업데이트됩니다. 이는 사용자가 애플리케이션 내에서 다른 페이지로 이동할 때마다 해당 컴포넌트가 현재 URL에 따라 적절히 반응하도록 합니다.

`usePathname` 훅은 현재 브라우저의 경로를 반환하고, Next.js의 클라이언트 사이드 라우팅 기능을 통해 페이지 간에 이동할 때마다 이 경로 값이 업데이트됩니다. 따라서, 이 훅을 사용하는 컴포넌트는 페이지 이동 시 재렌더링되어 현재 경로의 최신 상태를 반영하게 됩니다.

Next.js의 라우팅 시스템은 사용자가 페이지 간에 이동할 때 전체 페이지를 새로 불러오지 않고, 필요한 데이터만 변경하여 빠른 페이지 전환을 가능하게 합니다. 이는 사용자 경험을 크게 향상시키지만, 경로 변경과 같은 이벤트에 반응하여 UI를 업데이트하기 위해서는 경로 변경을 감지하고 해당 변경사항에 따라 컴포넌트를 업데이트하는 로직이 필요합니다.

따라서, `usePathname` 같은 훅을 사용할 때, 경로가 변경될 때마다 관련 컴포넌트가 재렌더링되는 것은 Next.js의 라우팅 메커니즘이 의도한 바이며, 이를 통해 동적으로 변하는 라우팅 상태에 따라 UI를 적절히 업데이트할 수 있습니다.

